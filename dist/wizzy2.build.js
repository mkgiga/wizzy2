/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["wizzy2"] = factory();
	else
		root["wizzy2"] = factory();
})(this, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./editor-commands.js":
/*!****************************!*\
  !*** ./editor-commands.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorCommand: () => (/* binding */ EditorCommand)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\r\n * @abstract\r\n * Represents a command that can be executed by the editor.\r\n * Should have a reverse operation that can be executed to undo the command.\r\n * \r\n */\nvar EditorCommand = /*#__PURE__*/function () {\n  function EditorCommand(_ref) {\n    var editor = _ref.editor,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params;\n    _classCallCheck(this, EditorCommand);\n    this.editor = editor;\n    this.params = params;\n  }\n  return _createClass(EditorCommand, [{\n    key: \"history\",\n    get: function get() {\n      return this.editor.history;\n    }\n\n    /**\r\n     * Executes the command.\r\n     */\n  }, {\n    key: \"do\",\n    value: function _do() {\n      throw new Error(\"Not implemented\");\n    }\n\n    /**\r\n     * The reverse equivalent of `do()`.\r\n     */\n  }, {\n    key: \"undo\",\n    value: function undo() {\n      throw new Error(\"Not implemented\");\n    }\n  }]);\n}();\n\n//# sourceURL=webpack://wizzy2/./editor-commands.js?");

/***/ }),

/***/ "./elements/commands.js":
/*!******************************!*\
  !*** ./elements/commands.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   command: () => (/* binding */ command),\n/* harmony export */   commandSearchMenu: () => (/* binding */ commandSearchMenu),\n/* harmony export */   hotbar: () => (/* binding */ hotbar),\n/* harmony export */   hotbarSlot: () => (/* binding */ hotbarSlot),\n/* harmony export */   insertHTMLSnippetCommand: () => (/* binding */ insertHTMLSnippetCommand)\n/* harmony export */ });\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/html.js */ \"./lib/html.js\");\n/* harmony import */ var _util_element_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/element-utils.js */ \"./util/element-utils.js\");\n/* harmony import */ var _context_menu_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context-menu.js */ \"./elements/context-menu.js\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\n\n\n\n/**\r\n * Holds items that can be triggered with a keyboard shortcut.\r\n * Each item should be a HTML element with a callable 'action' method.\r\n * @param {Object} options\r\n * @param {Array} options.slots - Array of hotbar slots\r\n * @returns {HTMLElement} - The hotbar element\r\n */\nfunction hotbar(_ref) {\n  var _ref$slots = _ref.slots,\n    slots = _ref$slots === void 0 ? [] : _ref$slots;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    <div class=\\\"__wizzy-hotbar\\\">\\n      <style>\\n        @scope (.__wizzy-hotbar) {\\n          :scope {\\n            & {\\n              position: fixed;\\n              display: grid;\\n              grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));\\n              grid-auto-rows: 50px;\\n              gap: 0.5rem;\\n              \\n\\n              bottom: 0.5rem;\\n              left: 0.5rem;\\n              width: 100%;\\n              height: 50px;\\n              background: transparent;\\n              box-sizing: border-box;\\n              margin: 0;\\n              z-index: 1000000001;\\n            }\\n          }\\n        }\\n      </style>\\n    </div>\\n  \"])));\n  slots.forEach(function (slot) {\n    el.appendChild(slot);\n  });\n  return el;\n}\n\n/**\r\n * Holds a single item that can be triggered with a keyboard shortcut.\r\n * @param {Object} options\r\n * @param {Object} options.command - The command to be executed\r\n * @param {String} options.key - The keyboard shortcut to trigger the command\r\n * @returns {HTMLElement} - The hotbar slot element\r\n */\nfunction hotbarSlot(_ref2) {\n  var command = _ref2.command,\n    _ref2$key = _ref2.key,\n    key = _ref2$key === void 0 ? \"\" : _ref2$key;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    <div class=\\\"__wizzy-hotbar-slot\\\" key=\\\"\", \"\\\">\\n      <span class=\\\"__wizzy-hotbar-slot-key\\\"></span>\\n\\n      <style>\\n        @scope (.__wizzy-hotbar-slot) {\\n          :scope {\\n            & {\\n              position: relative;\\n              display: flex;\\n              flex-direction: column;\\n              width: 100%;\\n              height: 100%;\\n              background: white;\\n              box-sizing: border-box;\\n              margin: 0;\\n              padding: 0;\\n              z-index: 1000000008;\\n              box-shadow: 0 0 6px 1px rgba(0, 0, 0, 0.25);\\n            }\\n\\n            .__wizzy-hotbar-slot-key {\\n              position: absolute;\\n              top: 0;\\n              left: 0;\\n              width: 100%;\\n              height: 100%;\\n              padding: 0.5rem;\\n              text-align: center;\\n              font-size: 1rem;\\n              font-family: monospace;\\n              color: black;\\n              pointer-events: none;\\n\\n              ::before {\\n                content: attr(key);\\n              }\\n            }\\n\\n            .__wizzy-command {\\n\\n              display: flex;\\n              flex-direction: column;\\n              justify-content: center;\\n              align-items: center;\\n              width: 100%;\\n              height: 100%;\\n              padding: 0.5rem;\\n              box-sizing: border-box;\\n              background: #f1f1f1;\\n              color: black;\\n              font-family: sans-serif;\\n              font-size: 1rem;\\n              cursor: pointer;\\n              transition: all 0.1s cubic-bezier(0.25, 0.1, 0.25, 1);\\n\\n              .__wizzy-command-icon {\\n                display: flex;\\n                flex-direction: column;\\n                justify-content: center;\\n                align-items: center;\\n                width: 100%;\\n                height: 100%;\\n                font-size: 2rem;\\n                pointer-events: none;\\n\\n                \\n                &::before {\\n                  content: attr(icon);\\n                }\\n              }\\n\\n              .__wizzy-command-name {\\n                display: none;\\n              }\\n\\n              .__wizzy-command-brief {\\n                display: none;\\n              }\\n\\n              .__wizzy-command-description {\\n                display: none;\\n              }\\n\\n              .__wizzy-command:has(.__wizzy-html-preview-box) {\\n                &:not(:hover) {\\n                  display: none;\\n                }\\n\\n                &:hover {\\n                  display: flex;\\n                }\\n              }\\n            }\\n          }\\n        }\\n      </style>\\n    </div>\\n  \"])), key);\n  el.appendChild(command);\n  window.addEventListener(\"keydown\", function (e) {\n    if (e.key === key) {\n      command.action();\n    }\n  });\n  return el;\n}\n\n/**\r\n * Creates a command element. This element will not have any styling by default,\r\n * and it is up to the container to style it.\r\n * All properties are placed as attributes on the container element,\r\n * so each child element's textContent can be (optionally) set using ::before/::after on\r\n * any of the child elements, should the host want to do so.\r\n *\r\n * @param {Object} options\r\n * @param {String} options.name - The name of the command\r\n * @param {String} options.icon - The icon of the command\r\n * @param {String} options.description - The description of the command\r\n * @param {String} options.brief - The brief description of the command\r\n * @param {Function} options.action - The action to be executed when the command is triggered\r\n * @returns {HTMLElement} - The command element\r\n */\nfunction command(_ref3) {\n  var _ref3$name = _ref3.name,\n    name = _ref3$name === void 0 ? \"\" : _ref3$name,\n    _ref3$icon = _ref3.icon,\n    icon = _ref3$icon === void 0 ? \"\" : _ref3$icon,\n    _ref3$description = _ref3.description,\n    description = _ref3$description === void 0 ? \"\" : _ref3$description,\n    _ref3$brief = _ref3.brief,\n    brief = _ref3$brief === void 0 ? \"\" : _ref3$brief,\n    _ref3$action = _ref3.action,\n    action = _ref3$action === void 0 ? function () {} : _ref3$action,\n    _ref3$editor = _ref3.editor,\n    editor = _ref3$editor === void 0 ? null : _ref3$editor,\n    _ref3$contextMenu = _ref3.contextMenu,\n    ctxMenu = _ref3$contextMenu === void 0 ? [{\n      label: \"Click me!\",\n      value: function value(e) {\n        return console.log(e);\n      }\n    }] : _ref3$contextMenu;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    <span\\n      class=\\\"__wizzy-command\\\"\\n      name=\\\"\", \"\\\"\\n      icon=\\\"\", \"\\\"\\n      description=\\\"\", \"\\\"\\n      brief=\\\"\", \"\\\"\\n    >\\n      <span class=\\\"__wizzy-command-icon material-icons\\\"></span>\\n      <span class=\\\"__wizzy-command-name\\\"></span>\\n      <span class=\\\"__wizzy-command-brief\\\"></span>\\n      <span class=\\\"__wizzy-command-description\\\"></span>\\n    </span>\\n  \"])), name, icon, description, brief);\n  el.querySelector(\".__wizzy-command-icon\").textContent = icon;\n  el.querySelector(\".__wizzy-command-name\").textContent = name;\n  el.querySelector(\".__wizzy-command-brief\").textContent = brief;\n  el.querySelector(\".__wizzy-command-description\").textContent = description;\n  el.addEventListener(\"click\", action.bind({\n    editor: editor\n  }));\n  el.addEventListener(\"contextmenu\", function (e) {\n    var menu = (0,_context_menu_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      items: ctxMenu,\n      x: e.clientX,\n      y: e.clientY\n    });\n    editor.state.editorContainer.appendChild(menu);\n  });\n  return el;\n}\n\n/**\r\n * A VSCode-like command search menu that appears and expands when your press a keyboard shortcut.\r\n * @param {Object} options\r\n * @param {Array} options.commands - The commands to be displayed in the search menu\r\n * @returns {HTMLElement} - The command search menu element\r\n */\nfunction commandSearchMenu(_ref4) {\n  var _ref4$commands = _ref4.commands,\n    commands = _ref4$commands === void 0 ? [] : _ref4$commands;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n    <div class=\\\"__wizzy-command-search-menu\\\">\\n      <style>\\n        @scope (.__wizzy-command-search-menu) {\\n          :scope {\\n            & {\\n              position: fixed;\\n              display: flex;\\n              flex-direction: column;\\n              width: 100%;\\n              height: 100%;\\n              background: white;\\n              box-sizing: border-box;\\n              margin: 0;\\n              padding: 0;\\n              z-index: 100000006;\\n            }\\n            .__wizzy-command-search-menu-header {\\n              display: flex;\\n              flex-direction: row;\\n              justify-content: center;\\n              align-items: center;\\n              width: 100%;\\n              padding: 0.5rem;\\n              box-sizing: border-box;\\n            }\\n\\n            .__wizzy-command-search-menu-input {\\n              width: 100%;\\n              padding: 0.5rem;\\n              box-sizing: border-box;\\n              font-size: 1rem;\\n              font-family: sans-serif;\\n              border: 1px solid #ccc;\\n              border-radius: 4px;\\n              background: white;\\n              color: black;\\n            }\\n\\n            .__wizzy-command-search-menu-results {\\n              display: flex;\\n              flex-direction: column;\\n              justify-content: flex-start;\\n              align-items: center;\\n              width: 100%;\\n              padding: 1rem;\\n              box-sizing: border-box;\\n            }\\n          }\\n        }\\n      </style>\\n      <div class=\\\"__wizzy-command-search-menu-header\\\">\\n        <input\\n          type=\\\"text\\\"\\n          class=\\\"__wizzy-command-search-menu-input\\\"\\n          placeholder=\\\"Search for a command by name or description\\\"\\n        />\\n      </div>\\n\\n      <div class=\\\"__wizzy-command-search-menu-results\\\"></div>\\n    </div>\\n  \"])));\n}\nfunction insertHTMLSnippetCommand(_ref5) {\n  var _ref5$outerHTML = _ref5.outerHTML,\n    outerHTML = _ref5$outerHTML === void 0 ? \"\" : _ref5$outerHTML,\n    editor = _ref5.editor;\n  function htmlPreviewBox(_ref6) {\n    var _ref6$previewElement = _ref6.previewElement,\n      previewElement = _ref6$previewElement === void 0 ? document.createElement('div') : _ref6$previewElement,\n      _ref6$x = _ref6.x,\n      x = _ref6$x === void 0 ? 0 : _ref6$x,\n      _ref6$y = _ref6.y,\n      y = _ref6$y === void 0 ? 0 : _ref6$y,\n      _ref6$width = _ref6.width,\n      width = _ref6$width === void 0 ? 0 : _ref6$width,\n      _ref6$height = _ref6.height,\n      height = _ref6$height === void 0 ? 0 : _ref6$height;\n    var previewContainer = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n      <div class=\\\"__wizzy-html-preview-box\\\">\\n        <style>\\n          @scope (.__wizzy-html-preview-box) {\\n            :scope {\\n              & {\\n                position: fixed;\\n                display: flex;\\n                flex-direction: column;\\n                top: \", \"px;\\n                left: \", \"px;\\n                width: \", \"px;\\n                height: \", \"px;\\n                background: transparent;\\n                border: 1px solid black;\\n                z-index: 10000000007;\\n              }\\n            }\\n          }\\n        </style>\\n\\n        <div class=\\\"__wizzy-html-preview-box-content\\\">\\n\\n        </div>\\n      </div>\\n    \"])), y, x, width, height);\n    return previewContainer;\n  }\n  var preview = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\", \"\"])), outerHTML);\n  var outerTag = preview.tagName.toLowerCase();\n  var cmd = command({\n    name: \"Insert HTML Snippet\",\n    icon: (0,_util_element_utils_js__WEBPACK_IMPORTED_MODULE_1__.getMaterialIconFor)(outerTag),\n    description: \"Inserts an HTML snippet into the editor\",\n    brief: \"Inserts an HTML snippet\",\n    editor: editor,\n    action: function action(e) {\n      if (e.target && e.target instanceof HTMLElement) {\n        if (e.target.closest(\"[wizzy-editor]\")) {\n          return;\n        }\n        e.target.insertAdjacentHTML(\"beforeend\", outerHTML);\n        return;\n      }\n    }\n  });\n  return cmd;\n}\n\n//# sourceURL=webpack://wizzy2/./elements/commands.js?");

/***/ }),

/***/ "./elements/context-menu.js":
/*!**********************************!*\
  !*** ./elements/context-menu.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ contextMenu)\n/* harmony export */ });\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\nfunction contextMenu(_ref) {\n  var _ref$items = _ref.items,\n    items = _ref$items === void 0 ? [] : _ref$items,\n    _ref$x = _ref.x,\n    x = _ref$x === void 0 ? 0 : _ref$x,\n    _ref$y = _ref.y,\n    y = _ref$y === void 0 ? 0 : _ref$y,\n    _ref$cssOverrides = _ref.cssOverrides,\n    cssOverrides = _ref$cssOverrides === void 0 ? {\n      menu: \"\",\n      item: \"\",\n      group: \"\"\n    } : _ref$cssOverrides;\n  var MINIMUM_WIDTH = 256;\n  var ITEM_HEIGHT = 24;\n\n  /**\r\n   * Utility function to create a HTML element from a string template\r\n   * @param {string} strings\r\n   * @param  {...any} values\r\n   * @returns {HTMLElement}\r\n   */\n  function html(strings) {\n    for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      values[_key - 1] = arguments[_key];\n    }\n    var template = document.createElement(\"template\");\n    template.innerHTML = strings.reduce(function (acc, str, i) {\n      return acc + str + (values[i] || \"\");\n    }, \"\");\n    return template.content.firstElementChild;\n  }\n\n  /**\r\n   * Call this recursively for each submenu (including the top level)\r\n   * @param {Object} options\r\n   * @param {HTMLElement | null} parent - The parent element that was hovered/clicked\r\n   * @param {Array} items - The items to display in the menu\r\n   */\n  function createMenu(_ref2) {\n    var _ref2$parent = _ref2.parent,\n      parent = _ref2$parent === void 0 ? null : _ref2$parent,\n      _ref2$items = _ref2.items,\n      items = _ref2$items === void 0 ? [] : _ref2$items,\n      _ref2$x = _ref2.x,\n      x = _ref2$x === void 0 ? 0 : _ref2$x,\n      _ref2$y = _ref2.y,\n      y = _ref2$y === void 0 ? 0 : _ref2$y;\n    var bounds;\n    if (parent) {\n      bounds = parent.getBoundingClientRect();\n\n      // where will the menu fit? we have to place it first to measure it,\n      // but we can turn off visibility to avoid flickering\n    }\n    var menuElement = html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <div class=\\\"__context-menu\\\">\\n        <style>\\n          @scope (.__context-menu) {\\n            :scope {\\n              @media (prefers-color-scheme: dark) {\\n                --context-menu-background: #333;\\n                --context-menu-color: #fff;\\n                --context-menu-shadow: 0 0 4px rgba(0, 0, 0, 0.2);\\n                --context-menu-item-hover: #444;\\n                --context-menu-item-active: #555;\\n                --context-menu-item-border: 1px solid #555;\\n              }\\n\\n              @media (prefers-color-scheme: light) {\\n                --context-menu-background: #fff;\\n                --context-menu-color: #333;\\n                --context-menu-shadow: 0 0 4px rgba(0, 0, 0, 0.2);\\n                --context-menu-item-hover: #f1f1f1;\\n                --context-menu-item-active: #e1e1e1;\\n                --context-menu-item-border: 1px solid #e1e1e1;\\n              }\\n\\n              & {\\n                position: fixed;\\n                display: flex;\\n                flex-direction: column;\\n                background: white;\\n                box-shadow: 0 0 4px rgba(0, 0, 0, 0.2);\\n                border: none;\\n                padding: 0;\\n                margin: 0;\\n                z-index: 10000000007;\\n\\n                top: \", \"px;\\n                left: \", \"px;\\n\\n                background: var(--context-menu-background);\\n                color: var(--context-menu-color);\\n\\n                min-width: \", \"px;\\n\\n                \", \"\\n              }\\n\\n              .__context-menu-item {\\n                \\n                position: relative;\\n                display: flex;\\n                flex-direction: row;\\n                justify-content: space-between;\\n                align-items: center;\\n                width: 100%;\\n                min-width: \", \"px;\\n                height: \", \"px;\\n                padding: 0 1rem;\\n                box-sizing: border-box;\\n                cursor: pointer;\\n                user-select: none;\\n\\n                /* preventing the text from triggering the event listeners */\\n                \\n                .__context-menu-item-label {\\n                  pointer-events: none;\\n                  user-select: none;\\n                }\\n\\n                .__context-menu-submenu-icon {\\n                  pointer-events: none;\\n                  user-select: none;\\n                }\\n              \\n                &[disabled] {\\n                  .__context-menu-item-label {\\n                    opacity: 0.5;\\n                  }\\n\\n                  .__context-menu-submenu-icon {\\n                    opacity: 0.5;\\n                  }\\n\\n                  cursor: not-allowed\\n                }\\n\\n                &:not([disabled]):hover {\\n                  background: var(--context-menu-item-hover);\\n                }\\n\\n                \", \"\\n              }\\n\\n              .__context-menu-group {\\n                &:not(:first-child) {\\n                  border-top: var(--context-menu-item-border);\\n                }\\n\\n                \", \"\\n              }\\n            }\\n          }\\n        </style>\\n      </div>\\n    \"])), y, x, MINIMUM_WIDTH, cssOverrides.menu, MINIMUM_WIDTH, ITEM_HEIGHT, cssOverrides.item, cssOverrides.group);\n    if (!parent) {\n      menuElement.setAttribute(\"role\", \"menu\");\n      menuElement.setAttribute(\"__context-menu-root\", \"\");\n      window.addEventListener(\"click\", function (e) {\n        if (!e.target.closest(\".__context-menu\")) {\n          menuElement.remove();\n        }\n      });\n      window.addEventListener(\"contextmenu\", function (e) {\n        e.preventDefault();\n        menuElement.remove();\n      });\n    }\n    createMenuGroup({\n      parentMenu: menuElement,\n      items: items\n    });\n    return menuElement;\n  }\n  function createMenuItem(_ref3) {\n    var parentMenu = _ref3.parentMenu,\n      label = _ref3.label,\n      value = _ref3.value,\n      disabled = _ref3.disabled;\n    var itemElement = html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n      <div class=\\\"__context-menu-item\\\" \", \">\\n        <span class=\\\"__context-menu-item-label\\\">\", \"</span>\\n      </div>\\n    \"])), disabled ? \"disabled\" : \"\", label);\n    if (typeof value === \"function\") {\n      itemElement.addEventListener(\"click\", function (e) {\n        e.stopPropagation();\n        if (itemElement.hasAttribute(\"disabled\")) {\n          return;\n        }\n        value(e);\n        var rootElement = itemElement.closest(\"[__context-menu-root]\");\n        rootElement.remove();\n      });\n    } else if (Array.isArray(value)) {\n      var open = function open(e) {\n        createMenu({\n          parent: itemElement,\n          items: value\n        });\n      };\n      var submenuIndicator = html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n        <span class=\\\"__context-menu-submenu-icon material-icons\\\">chevron_right</span>\\n      \"])));\n      itemElement.appendChild(submenuIndicator);\n      itemElement.addEventListener(\"click\", open);\n      itemElement.addEventListener(\"mouseenter\", function () {\n        var tmr = setTimeout(open, 500);\n        itemElement.addEventListener(\"mouseleave\", function () {\n          clearTimeout(tmr);\n        });\n      });\n    }\n    parentMenu.appendChild(itemElement);\n  }\n  function createMenuGroup(_ref4) {\n    var parentMenu = _ref4.parentMenu,\n      _ref4$items = _ref4.items,\n      items = _ref4$items === void 0 ? [] : _ref4$items;\n    var groupElement = html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n      <div class=\\\"__context-menu-group\\\">\\n        \\n      </div>\\n    \"])));\n    var _iterator = _createForOfIteratorHelper(items),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n        if (Array.isArray(item)) {\n          createMenuGroup({\n            parentMenu: groupElement,\n            items: item\n          });\n        } else if (_typeof(item) === \"object\") {\n          createMenuItem(_objectSpread({\n            parentMenu: groupElement\n          }, item));\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    parentMenu.appendChild(groupElement);\n  }\n  var menu = createMenu({\n    items: items,\n    x: x,\n    y: y\n  });\n  return menu;\n}\nvar exampleItemsArray = [\n// an array signifies a group of items, which gets rendered with a separator\n[{\n  label: \"Copy\",\n  // the text to display\n  value: function value(e) {} // the function to call when clicked\n}, {\n  label: \"Cut\",\n  value: function value(e) {}\n}, {\n  label: \"Paste\",\n  value: function value(e) {}\n}], {\n  label: \"Settings...\",\n  disabled: true,\n  // if the item is disabled, it will not be clickable\n  value: [\n  // if the value is an object, it becomes a submenu, which has the same structure as the top level\n  {\n    label: \"Font\",\n    value: function value(e) {}\n  }, {\n    label: \"Theme\",\n    value: function value(e) {}\n  }]\n}];\n\n//# sourceURL=webpack://wizzy2/./elements/context-menu.js?");

/***/ }),

/***/ "./elements/editor-container.js":
/*!**************************************!*\
  !*** ./elements/editor-container.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   editorContainer: () => (/* binding */ editorContainer)\n/* harmony export */ });\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/html.js */ \"./lib/html.js\");\nvar _templateObject;\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\nfunction editorContainer() {\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    <div __wizzy-editor style=\\\"pointer-events: none; user-select: none; visibility: hidden;\\\">\\n      <style>\\n        @scope ([__wizzy-editor]) {\\n          :scope {\\n            & {\\n              position: fixed;\\n              top: 0;\\n              left: 0;\\n              width: 100vw;\\n              height: 100vh;\\n              background: transparent;\\n              box-sizing: border-box;\\n              margin: 0;\\n              padding: 0;\\n              z-index: 100000000;\\n            }\\n\\n            * {\\n              visibility: visible;\\n              pointer-events: all;\\n            }\\n          }\\n        }\\n      </style>\\n    </div>\\n  \"])));\n  function watch() {\n    if (!el.parentElement) {\n      return;\n    }\n    if (el.parentElement !== document.body) {\n      document.body.appendChild(el);\n    } else {\n      if (el.nextSibling) {\n        document.body.appendChild(el);\n      }\n    }\n    requestAnimationFrame(watch);\n  }\n  Object.defineProperty(el, \"watch\", {\n    value: watch\n  });\n  return el;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (editorContainer);\n\n//# sourceURL=webpack://wizzy2/./elements/editor-container.js?");

/***/ }),

/***/ "./elements/editor-dompath.js":
/*!************************************!*\
  !*** ./elements/editor-dompath.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   editorDomPath: () => (/* binding */ editorDomPath)\n/* harmony export */ });\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/html.js */ \"./lib/html.js\");\nvar _templateObject;\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\nfunction editorDomPath(_ref) {\n  var element = _ref.element;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    <span class=\\\"__wizzy-dompath\\\">\\n      <style>\\n        @scope (.__wizzy-dompath) {\\n          :scope {\\n            & {\\n              display: inline-block;\\n              font-size: 12px;\\n              color: #333;\\n              background: #f1f1f1;\\n              text-wrap: nowrap;\\n              text-justify: right;\\n              text-align: center;\\n              overflow: ellipsis;\\n              margin: 0;\\n              padding: 0;\\n              height: 16px;\\n              font-family: monospace;\\n              align-items: center;\\n              justify-content: center;\\n            }\\n\\n            & .material-icons {\\n              font-size: 16px;\\n              color: #333;\\n              margin: 0;\\n              padding: 0;\\n            }\\n          }\\n        }\\n      </style>\\n    </span>\"])));\n  var arrow = \"<span class=\\\"material-icons\\\">keyboard_arrow_right</span>\";\n  var path = getDOMPath(element);\n  var _iterator = _createForOfIteratorHelper(path),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var part = _step.value;\n      el.innerHTML += \"<p>\".concat(part, \"</p> \").concat(arrow, \" \");\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  el.innerHTML += \"<p>\".concat(element.tagName, \"</p>\");\n  el.style.display = \"flex\";\n  el.style.flexDirection = \"row\";\n  el.style.justifyContent = \"center\";\n  el.style.alignItems = \"center\";\n  el.style.height = \"24px\";\n  return el;\n}\nfunction getDOMPath(element) {\n  var path = [];\n  while (element.parentNode) {\n    var index = Array.from(element.parentNode.children).indexOf(element);\n    path.unshift(\"\".concat(element.tagName, \"[\").concat(index, \"]\"));\n    element = element.parentNode;\n  }\n  return path;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (editorDomPath);\n\n//# sourceURL=webpack://wizzy2/./elements/editor-dompath.js?");

/***/ }),

/***/ "./elements/editor-preferences.js":
/*!****************************************!*\
  !*** ./elements/editor-preferences.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   editorPreferences: () => (/* binding */ editorPreferences)\n/* harmony export */ });\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/html.js */ \"./lib/html.js\");\n/* harmony import */ var _editor_window_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor-window.js */ \"./elements/editor-window.js\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\n\nfunction editorPreferences() {\n  var localStorageTarget = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var defaultPreferences = [{\n    group: \"Elements\",\n    items: [{\n      name: \"Prevent appending inside:\",\n      type: \"textarea\",\n      value: \"p,\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6,\\nimg,\\nbutton,\\nlabel,\\ninput,\\ntextarea,\\nembed\"\n    }]\n  }];\n\n  // testing\n  localStorage.removeItem(localStorageTarget);\n  if (!localStorage.getItem(localStorageTarget)) {\n    // initialize localStorage with default values\n    localStorage.setItem(localStorageTarget, JSON.stringify(defaultPreferences));\n  }\n  var preferences = JSON.parse(localStorage.getItem(localStorageTarget));\n  console.log(preferences);\n  var preferencesContainer = (0,_editor_window_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    title: \"Preferences\",\n    toolbarContent: \"\\n      <button class=\\\"__wizzy-preferences-save material-icons\\\">save</button>\\n    \",\n    position: \"fixed\",\n    listeners: {\n      onRemove: function onRemove() {\n        preferencesContainer.toggle();\n      }\n    }\n  });\n  var contentContainer = preferencesContainer.querySelector(\".__wizzy-window-content\");\n  var content = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    <div class=\\\"__wizzy-preferences-content\\\"></div>\\n      <style>\\n        @scope (.__wizzy-preferences-content) {\\n          :scope {\\n            display: flex;\\n            flex-direction: column;\\n            flex-wrap: wrap;\\n            gap: 1rem;\\n            width: 100%;\\n            height: 100%;\\n          }\\n        }\\n      </style>\\n    </div>\\n  \"])));\n  var _iterator = _createForOfIteratorHelper(preferences),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var group = _step.value;\n      var groupContainer = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n      <div class=\\\"__wizzy-preferences-group\\\">\\n        <style>\\n          @scope (.__wizzy-preferences-group) {\\n            :scope {\\n              & {\\n                padding: 1rem;\\n              }\\n\\n              h4 {\\n                margin: 0;\\n              }\\n\\n              hr {\\n                margin: 0.5rem 0;\\n                border: none;\\n                border-top: 1px solid #ccc;\\n              }\\n            }\\n          }\\n        </style>\\n        <h4>\", \"</h4>\\n        <hr>\\n        <div class=\\\"__wizzy-preferences-group-items\\\"></div>\\n      </div>\\n    \"])), group.group);\n      var itemsContainer = groupContainer.querySelector(\".__wizzy-preferences-group-items\");\n      console.log(group.items);\n      var _iterator4 = _createForOfIteratorHelper(group.items),\n        _step4;\n      try {\n        var _loop = function _loop() {\n          var item = _step4.value;\n          var res;\n          switch (item.type) {\n            case 'textarea':\n              res = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n            <div class=\\\"__wizzy-preferences-item\\\" style=\\\"display: flex; flex-direction: column; max-height: 200px;\\\">\\n              <label for=\\\"\", \"\\\">\", \"</label>\\n              <div class=\\\"__wizzy-preferences-item-value\\\">\\n                <textarea id=\\\"\", \"\\\" name=\\\"\", \"\\\">\", \"</textarea>\\n              </div>\\n            </div>\\n          \"])), item.name, item.name, item.name, item.name, item.value);\n              var MAX_ROWS = 8;\n              var textArea = res.querySelector(\"textarea\");\n              res.updateSize = function () {\n                var rows = textArea.value.split(\"\\n\").length;\n                textArea.rows = Math.min(rows, MAX_ROWS);\n              };\n              res.updateSize();\n              textArea.addEventListener(\"input\", res.updateSize);\n              break;\n            default:\n              res = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n            <div class=\\\"__wizzy-preferences-item\\\">\\n              <label for=\\\"\", \"\\\">\", \"</label>\\n              <div class=\\\"__wizzy-preferences-item-value\\\">\\n                <span>\", \"</span>\\n              </div>\\n            </div>\\n          \"])), item.name, item.name, item.value);\n              break;\n          }\n          itemsContainer.appendChild(res);\n        };\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      contentContainer.appendChild(groupContainer);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  preferencesContainer.toggle = function () {\n    if (preferencesContainer.style.display === \"none\") {\n      preferencesContainer.style.display = \"flex\";\n    } else {\n      preferencesContainer.style.display = \"none\";\n    }\n  };\n  var saveButton = preferencesContainer.querySelector(\".__wizzy-preferences-save\");\n  saveButton.addEventListener(\"click\", function (e) {\n    e.target.animate([{\n      color: \"lime\",\n      transform: \"scale(2)\"\n    }, {\n      color: \"black\",\n      transform: \"scale(1)\"\n    }], {\n      duration: 500,\n      easing: \"cubic-bezier(0.175, 0.885, 0.32, 1.275)\"\n    });\n    var groups = contentContainer.querySelectorAll(\".__wizzy-preferences-group\");\n    var newPreferences = [];\n    var _iterator2 = _createForOfIteratorHelper(groups),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var group = _step2.value;\n        var groupName = group.querySelector(\"h4\").textContent;\n        var items = group.querySelectorAll(\".__wizzy-preferences-item\");\n        var newItems = [];\n        var _iterator3 = _createForOfIteratorHelper(items),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _item$querySelector;\n            var item = _step3.value;\n            var name = item.querySelector(\"label\").textContent;\n            var value = ((_item$querySelector = item.querySelector(\"textarea\")) === null || _item$querySelector === void 0 ? void 0 : _item$querySelector.value) || item.querySelector(\"span\").textContent;\n            newItems.push({\n              name: name,\n              value: value\n            });\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n        newPreferences.push({\n          group: groupName,\n          items: newItems\n        });\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  });\n  return preferencesContainer;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  editorPreferences: editorPreferences\n});\n\n//# sourceURL=webpack://wizzy2/./elements/editor-preferences.js?");

/***/ }),

/***/ "./elements/editor-window.js":
/*!***********************************!*\
  !*** ./elements/editor-window.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ editorWindow)\n/* harmony export */ });\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/html.js */ \"./lib/html.js\");\n/* harmony import */ var _util_randomUUID_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/randomUUID.js */ \"./util/randomUUID.js\");\nvar _templateObject;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\n\n/**\r\n * Create a new editor window.\r\n * @param {Object} options\r\n * @param {string} options.title - The title of the window.\r\n * @param {Array<HTMLElement>} options.menuItems - An array of menu items to display in the window.\r\n * @param {HTMLElement|string|Array<HTMLElement>} options.toolbarContent - The content to display in the toolbar.\r\n * @param {HTMLElement|string} options.footerContent - The content to display in the footer.\r\n * @param {HTMLElement} options.editor - A reference to the editor state.\r\n * @param {string} options.position - The position of the window.\r\n * @returns {HTMLElement} The editor window element.\r\n * @throws {Error} If the toolbar content is not a valid type.\r\n * @throws {Error} If the footer content is not a valid type.\r\n */\nfunction editorWindow(_ref) {\n  var _ref$title = _ref.title,\n    title = _ref$title === void 0 ? \"Untitled Window\" : _ref$title,\n    _ref$toolbarContent = _ref.toolbarContent,\n    toolbarContent = _ref$toolbarContent === void 0 ? \"\" : _ref$toolbarContent,\n    _ref$footerContent = _ref.footerContent,\n    footerContent = _ref$footerContent === void 0 ? \"\" : _ref$footerContent,\n    _ref$content = _ref.content,\n    content = _ref$content === void 0 ? \"\" : _ref$content,\n    _ref$position = _ref.position,\n    position = _ref$position === void 0 ? \"relative\" : _ref$position,\n    _ref$cssOverrides = _ref.cssOverrides,\n    cssOverrides = _ref$cssOverrides === void 0 ? {} : _ref$cssOverrides,\n    _ref$listeners = _ref.listeners,\n    listeners = _ref$listeners === void 0 ? {\n      onRemove: function onRemove(e) {}\n    } : _ref$listeners;\n  var id = (0,_util_randomUUID_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    \\n    <div class=\\\"__wizzy-window\\\" id=\\\"\", \"\\\">\\n    <style>\\n      @scope (#\", \") {\\n        :scope {\\n          \\n          --background: white;\\n          --text-color: black;\\n\\n          color: var(--text-color);\\n\\n          & {\\n            position: \", \";\\n            display: flex;\\n            flex-direction: column;\\n            top: 0;\\n            bottom: 0;\\n            left: 0;\\n            right: 0;\\n            background: var(--background);\\n            box-sizing: border-box;\\n            margin: 3rem;\\n            padding: 0;\\n            z-index: 1000000006;\\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\\n            border-style: solid;\\n            border-width: 1px;\\n            border-color: #ccc;\\n\\n          }\\n\\n          button {\\n            font-family: 'Material Icons';\\n            font-size: 24px;\\n            cursor: pointer;\\n            border: none;\\n            background: none;\\n            color: inherit;\\n            font-size: 1rem;\\n            padding: 0.5rem;\\n            margin: 0;\\n            text-align: center;\\n            text-decoration: none;\\n            text-justify: center;\\n            \\n            &:hover {\\n              background: rgba(0, 0, 0, 0.1);\\n            }\\n\\n            &:active {\\n              background: rgba(0, 0, 0, 0.2);\\n            }\\n          }\\n          .__wizzy-window-menu {\\n            display: flex;\\n            flex-direction: row;\\n            justify-content: space-between;\\n            align-items: center;\\n            padding: 0.5rem;\\n            background: #f1f1f1;\\n            border-bottom: 1px solid #ccc;\\n          }\\n          .__wizzy-window-toolbar {\\n            display: flex;\\n            flex-direction: row;\\n            justify-content: space-between;\\n            align-items: center;\\n            padding: 0.5rem;\\n            background: #f1f1f1;\\n            border-bottom: 1px solid #ccc;\\n          }\\n          .__wizzy-window-content {\\n            flex: 1;\\n            padding: 0;\\n            margin: 0;\\n            overflow: auto;\\n          }\\n        }\\n      }\\n    </style>\\n      <div class=\\\"__wizzy-window-menu\\\">\\n        <h4>\", \"</h4>\\n        <div class=\\\"__wizzy-window-menu-buttons\\\">\\n          <button class=\\\"material-icons\\\">close</button>\\n        </div>\\n      </div>\\n      <div class=\\\"__wizzy-window-toolbar\\\"></div>\\n      <div class=\\\"__wizzy-window-content\\\"></div>\\n      <div class=\\\"__wizzy-window-footer\\\"></div>\\n    </div>\\n  \"])), id, id, position, title);\n  console.log(el);\n  var menu = el.querySelector(\".__wizzy-window-menu\");\n  var toolbar = el.querySelector(\".__wizzy-window-toolbar\");\n  var _content = el.querySelector(\".__wizzy-window-content\");\n  var footer = el.querySelector(\".__wizzy-window-footer\");\n  if (toolbarContent instanceof Array) {\n    var _iterator = _createForOfIteratorHelper(toolbarContent),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n        if (item instanceof HTMLElement) {\n          toolbar.appendChild(item);\n        } else {\n          throw new Error(\"Toolbar content array may only contain HTMLElements\");\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (typeof toolbarContent === \"string\") {\n    if (toolbarContent.trim().length > 0) {\n      toolbar.insertAdjacentHTML(\"beforeend\", toolbarContent);\n    }\n  } else if (toolbarContent instanceof HTMLElement) {\n    toolbar.appendChild(toolbarContent);\n  } else {\n    throw new Error(\"\\n      Invalid toolbar content argument provided.\\n\\n      Must be one of:\\n        - HTMLElement\\n        - Array<HTMLElement>\\n        - string\\n\\n      Received: \".concat(_typeof(toolbarContent), \".\\n    \"));\n  }\n  if (footerContent instanceof HTMLElement) {\n    footer.appendChild(footerContent);\n  } else if (typeof footerContent === \"string\") {\n    if (footerContent.trim().length > 0) {\n      footer.insertAdjacentHTML(\"beforeend\", footerContent);\n    }\n  } else {\n    throw new Error(\"\\n      Invalid footer content argument provided.\\n\\n      Must be one of:\\n        - HTMLElement\\n        - string\\n\\n      Received: \".concat(_typeof(footerContent), \".\\n    \"));\n  }\n  if (content instanceof HTMLElement) {\n    _content.appendChild(content);\n  } else if (typeof content === \"string\") {\n    if (content.trim().length > 0) {\n      _content.insertAdjacentHTML(\"beforeend\", content);\n    }\n  } else {\n    throw new Error(\"\\n      Invalid content argument provided.\\n\\n      Must be one of:\\n        - HTMLElement\\n        - string\\n\\n      Received: \".concat(_typeof(content), \".\\n    \"));\n  }\n  var closeButton = menu.querySelector(\"button\");\n  closeButton.addEventListener(\"click\", function (e) {\n    if (listeners.onRemove) {\n      listeners.onRemove(e);\n    }\n  });\n  return el;\n}\n\n//# sourceURL=webpack://wizzy2/./elements/editor-window.js?");

/***/ }),

/***/ "./elements/element-info.js":
/*!**********************************!*\
  !*** ./elements/element-info.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ elementInfo)\n/* harmony export */ });\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/html.js */ \"./lib/html.js\");\n/* harmony import */ var _util_element_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/element-utils.js */ \"./util/element-utils.js\");\nvar _templateObject, _templateObject2;\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\n\nfunction elementInfo(_ref) {\n  var targetElement = _ref.targetElement;\n  var target = targetElement;\n  var materialIconName = (0,_util_element_utils_js__WEBPACK_IMPORTED_MODULE_1__.getMaterialIconFor)(target.tagName);\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    <div class=\\\"__wizzy-element-info\\\">\\n      <style>\\n        @scope (.__wizzy-element-info) {\\n          :scope {\\n            & {\\n              position: fixed;\\n              display: flex;\\n              flex-direction: row;\\n              font-size: 12px;\\n              color: #333;\\n              background: white;\\n              text-wrap: nowrap;\\n              text-justify: left;\\n              text-align: center;\\n              overflow: ellipsis;\\n              margin: 0;\\n              padding: 0.25rem;\\n              height: fit-content;\\n              font-family: monospace;\\n              align-items: center;\\n              justify-content: center;\\n              font-family: monospace;\\n              user-select: none;\\n              gap: 0.25rem;\\n              box-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.5);\\n              z-index: 1000000002;\\n            }\\n\\n            .material-icons {\\n              font-size: 16px;\\n              color: #333;\\n              margin: 0;\\n              padding: 0;\\n              width: 24px;\\n            }\\n\\n            .__wizzy-element-info-tag {\\n              margin: 0;\\n              padding: 0;\\n            }\\n\\n            .__wizzy-element-info-edit {\\n              transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);\\n              \\n              * {\\n                transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);\\n              }\\n\\n              align-items: center;\\n              text-align: center;\\n\\n              display: flex;\\n              flex-direction: row;\\n              padding: 0;\\n              margin: 0;\\n\\n              .__wizzy-element-info-edit-expand {\\n                font-size: 16px;\\n                color: #333;\\n                font-family: \\\"Material Icons\\\";\\n                margin: 0;\\n                padding: 0;\\n                box-sizing: border-box;\\n                border: none;\\n                background: transparent;\\n                cursor: pointer;\\n              }\\n\\n              p[contenteditable] {\\n                min-width: 32px;\\n                border-bottom: 1px solid #333;\\n                text-justify: left;\\n                margin: 0;\\n                padding: 0;\\n\\n                font-size: 12px;\\n                font-family: monospace;\\n\\n                /* fit the text */\\n                white-space: nowrap;\\n                overflow: hidden;\\n                \\n                &:focus {\\n                  outline: none;\\n                }\\n              }\\n              \\n              &[collapsed] {\\n                & > :not(.__wizzy-element-info-edit-expand) {\\n                  width: 0;\\n                  max-width: 0;\\n                  min-width: 0;\\n                  opacity: 0;\\n                  overflow: hidden;\\n                }\\n              }\\n            }\\n          }\\n        }\\n      </style>\\n      <span class=\\\"material-icons __wizzy-element-icon\\\">\", \"</span>\\n      <p class=\\\"__wizzy-element-info-tag\\\">&lt;\", \"&gt;</p>\\n      <div class=\\\"__wizzy-element-info-edit\\\" collapsed>\\n        \\n        <span class=\\\"material-icons\\\">edit_attributes</span>\\n        <p class=\\\"__wizzy-element-info-attributes\\\" contenteditable spellcheck=\\\"false\\\"></p>\\n        <span class=\\\"material-icons\\\">info</span>\\n        <p class=\\\"__wizzy-element-info-class\\\" contenteditable>\", \"</p>\\n        <span class=\\\"material-icons\\\">style</span>\\n        <p class=\\\"__wizzy-element-info-style\\\" contenteditable>\", \"</p>\\n        <button class=\\\"material-icons __wizzy-element-info-edit-expand\\\">chevron_right</button>\\n      </div>\\n    </div>\\n  \"])), materialIconName, target.tagName.toLowerCase(), target.className, target.style.cssText);\n  var expandButton = el.querySelector(\".__wizzy-element-info-edit-expand\");\n  var editContainer = el.querySelector(\".__wizzy-element-info-edit\");\n  expandButton.addEventListener(\"click\", function () {\n    collapse();\n  });\n  var collapse = function collapse() {\n    if (editContainer.hasAttribute(\"collapsed\")) {\n      el.querySelector(\".__wizzy-element-info-attributes\").textContent = getAttributesString();\n      el.querySelector(\".__wizzy-element-info-class\").textContent = getClassString();\n      el.querySelector(\".__wizzy-element-info-style\").textContent = getStyleString();\n      editContainer.removeAttribute(\"collapsed\");\n      expandButton.textContent = \"chevron_right\";\n    } else {\n      editContainer.setAttribute(\"collapsed\", \"\");\n      expandButton.textContent = \"chevron_left\";\n    }\n  };\n  var inputAttributes = el.querySelector(\".__wizzy-element-info-attributes\");\n  var inputClass = el.querySelector(\".__wizzy-element-info-class\");\n  var inputStyle = el.querySelector(\".__wizzy-element-info-style\");\n  var defaultKeyDownHandler = function defaultKeyDownHandler(e) {\n    e.stopPropagation();\n\n    // remove the selection if the user presses escape\n    if (e.key === \"Escape\") {\n      var referent = el.refersTo;\n      referent.removeAttribute(\"__wizzy-selected\");\n      el.remove();\n      referent.infoElement = null;\n    }\n  };\n  var onSavedFieldAnimation = function onSavedFieldAnimation(targetElement) {\n    /* \r\n     * rapidly blink the field to indicate that the value has been saved \r\n     * the rapid blinking should slow down and eventually stop after a few seconds\r\n     */\n    var start = Date.now();\n    var duration = 2000;\n    function blink() {\n      var now = Date.now();\n      var dt = now - start;\n      var sin = Math.sin(dt / 100) * 0.5 + 0.5;\n      var shouldBeVisible = function shouldBeVisible() {\n        return sin > 0.5;\n      };\n      if (shouldBeVisible()) {\n        targetElement.style.visibility = \"visible\";\n      } else {\n        targetElement.style.visibility = \"hidden\";\n      }\n      if (dt < duration) {\n        requestAnimationFrame(blink);\n      } else {\n        targetElement.style.visibility = \"visible\";\n      }\n    }\n    blink();\n  };\n  var defaultValueChangedHandler = function defaultValueChangedHandler(e) {\n    e.stopPropagation();\n    el.correctPosition();\n  };\n  var onEnterAttributes = function onEnterAttributes(e) {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      var oldAttributes = target.attributes;\n      var attributes = inputAttributes.textContent.split(\" \").map(function (attr) {\n        var _attr$split = attr.split(\"=\"),\n          _attr$split2 = _slicedToArray(_attr$split, 2),\n          name = _attr$split2[0],\n          value = _attr$split2[1];\n        return {\n          name: name,\n          value: value\n        };\n      });\n      var _iterator = _createForOfIteratorHelper(oldAttributes),\n        _step;\n      try {\n        var _loop = function _loop() {\n          var oldAttribute = _step.value;\n          if (!attributes.find(function (attr) {\n            return attr.name === oldAttribute.name;\n          })) {\n            if (oldAttribute.name === \"__wizzy-selected\") {\n              return 1; // continue\n            }\n            target.removeAttribute(oldAttribute.name);\n          }\n        };\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          if (_loop()) continue;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var _iterator2 = _createForOfIteratorHelper(attributes),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var attribute = _step2.value;\n          if (attribute.name === \"__wizzy-selected\") {\n            continue;\n          }\n          target.setAttribute(attribute.name, attribute.value || \"\");\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      onSavedFieldAnimation(inputAttributes);\n    }\n  };\n  var onEnterClass = function onEnterClass(e) {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      target.className = inputClass.textContent;\n      onSavedFieldAnimation(inputClass);\n    }\n  };\n  var onEnterStyle = function onEnterStyle(e) {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      target.style.cssText = inputStyle.textContent;\n      onSavedFieldAnimation(inputStyle);\n    }\n  };\n  inputAttributes.addEventListener(\"keydown\", defaultKeyDownHandler);\n  inputAttributes.addEventListener(\"keydown\", onEnterAttributes);\n  inputAttributes.addEventListener(\"change\", defaultValueChangedHandler);\n  inputClass.addEventListener(\"keydown\", defaultKeyDownHandler);\n  inputClass.addEventListener(\"keydown\", onEnterClass);\n  inputClass.addEventListener(\"change\", defaultValueChangedHandler);\n  inputStyle.addEventListener(\"keydown\", defaultKeyDownHandler);\n  inputStyle.addEventListener(\"keydown\", onEnterStyle);\n  inputStyle.addEventListener(\"change\", defaultValueChangedHandler);\n  var getAttributesString = function getAttributesString() {\n    var attrs = target.attributes;\n    var str = \"\";\n    var _iterator3 = _createForOfIteratorHelper(attrs),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var attr = _step3.value;\n        if (attr.name.startsWith(\"__wizzy\")) {\n          continue;\n        }\n        str += \"\".concat(attr.name, \"=\\\"\").concat(attr.value, \"\\\" \");\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    return str;\n  };\n  var getClassString = function getClassString() {\n    return target.className;\n  };\n  var getStyleString = function getStyleString() {\n    return target.style.cssText;\n  };\n  if (el.hasAttribute(\"id\")) {\n    var idTag = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<p class=\\\"__wizzy-element-info-id\\\">\", \"</p>\"])), el.id);\n    el.appendChild(idTag);\n  }\n  el.setPosition = function (x, y) {\n    el.style.top = \"\".concat(y, \"px\");\n    el.style.left = \"\".concat(x, \"px\");\n  };\n  el.correctPosition = function () {\n    // Make sure the element is always visible on the screen,\n    // But also not covering the target element.\n    // It should anchor to one of the corners of the target element,\n    // in the following order of preference:\n    // 1. Bottom left\n    // 2. Top left\n    // 3. Bottom right\n    // 4. Top right\n\n    var targetRect = target.getBoundingClientRect();\n    var corners = [\n    // bottom left\n    {\n      x: targetRect.left,\n      y: targetRect.bottom\n    },\n    // top left\n    {\n      x: targetRect.left,\n      y: targetRect.top\n    },\n    // bottom right\n    {\n      x: targetRect.right,\n      y: targetRect.bottom\n    },\n    // top right\n    {\n      x: targetRect.right,\n      y: targetRect.top\n    }];\n\n    /**\r\n     * Tries to place the element at the given x, y position.\r\n     * Call it again if the position is not suitable, but at a different corner.\r\n     * @param {number} x \r\n     * @param {number} y \r\n     * @returns {[number, number] | null} the corrected x, y position.\r\n     */\n    var tryPlace = function tryPlace(x, y) {\n      // first, place it to actually know where it will be.\n      el.setPosition(x, y);\n      var rect = el.getBoundingClientRect();\n      var viewportWidth = window.innerWidth;\n      var viewportHeight = window.innerHeight;\n      if (rect.right > viewportWidth) {\n        // not enough space on the right side\n        return null;\n      }\n      if (rect.bottom > viewportHeight) {\n        // not enough space on the bottom\n        return null;\n      }\n      return [x, y];\n    };\n    var _tryPlace = tryPlace(corners[0].x, corners[0].y),\n      _tryPlace2 = _slicedToArray(_tryPlace, 2),\n      x = _tryPlace2[0],\n      y = _tryPlace2[1];\n    for (var _i = 0, _corners = corners; _i < _corners.length; _i++) {\n      var corner = _corners[_i];\n      var res = tryPlace(corner.x, corner.y);\n      if (res) {\n        var _res = _slicedToArray(res, 2);\n        x = _res[0];\n        y = _res[1];\n        break;\n      }\n    }\n    el.setPosition(x, y);\n\n    // if, after all that, the element is still partially off-screen,\n    // let's just call it a day by snapping it to be within the viewport as much as possible.\n    var rect = el.getBoundingClientRect();\n    var viewportWidth = window.innerWidth;\n    var viewportHeight = window.innerHeight;\n    if (rect.right > viewportWidth) {\n      el.style.left = \"\".concat(viewportWidth - rect.width, \"px\");\n    }\n    if (rect.bottom > viewportHeight) {\n      el.style.top = \"\".concat(viewportHeight - rect.height, \"px\");\n    }\n    if (rect.left < 0) {\n      el.style.left = \"0\";\n    }\n    if (rect.top < 0) {\n      el.style.top = \"0\";\n    }\n    return el; // 👍\n  };\n  targetElement.infoElement = el;\n  Object.defineProperty(el, \"refersTo\", {\n    value: target\n  });\n  return el;\n}\n\n//# sourceURL=webpack://wizzy2/./elements/element-info.js?");

/***/ }),

/***/ "./elements/element-quickedit.js":
/*!***************************************!*\
  !*** ./elements/element-quickedit.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   quickEdit: () => (/* binding */ quickEdit)\n/* harmony export */ });\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/html.js */ \"./lib/html.js\");\n/* harmony import */ var _editor_dompath_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor-dompath.js */ \"./elements/editor-dompath.js\");\nvar _templateObject, _templateObject2, _templateObject3;\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\n\nfunction quickEdit(_ref) {\n  var _ref$element = _ref.element,\n    element = _ref$element === void 0 ? document.body : _ref$element,\n    _ref$type = _ref.type,\n    type = _ref$type === void 0 ? \"attributes\" : _ref$type;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    <div class=\\\"__wizzy-quickedit\\\">\\n      <style>\\n        @scope (.__wizzy-quickedit) {\\n          :scope {\\n            & {\\n              display: grid;\\n              grid-template-columns: 256px 1fr 64px;\\n              grid-template-rows: 24px;\\n              height: 24px;\\n              margin: 0;\\n              padding: 0;\\n              overflow: hidden;\\n              max-height: 24px;\\n              gap: 0;\\n              z-index: 1000000002;\\n              font-family: monospace;\\n            }\\n\\n            button {\\n              height: 100%;\\n              background: #f1f1f1;\\n              color: #333;\\n              border: none;\\n              padding: 0;\\n              margin: 0;\\n              cursor: pointer;\\n              font-size: 12px;\\n\\n              &:hover {\\n                background: #e1e1e1;\\n              }\\n\\n              &:active {\\n                background: #d1d1d1;\\n              }\\n            }\\n\\n            .__wizzy-quickedit-path {\\n              grid-column: 1 / 2;\\n              grid-row: 1 / 2;\\n              padding: 0;\\n              margin: 0;\\n              background: #f1f1f1;\\n              color: #333;\\n              font-size: 12px;\\n              height: 100%;\\n            }\\n\\n            .__wizzy-quickedit-content {\\n              input {\\n                width: 100%;\\n                height: 100%;\\n                box-sizing: border-box;\\n                background: #f1f1f1;\\n                padding: 0;\\n                margin: 0;\\n                border: none;\\n                font-size: 12px;\\n                color: #333;\\n                text-justify: left;\\n                padding-left: 4px;\\n                font-family: monospace;\\n              }\\n            }\\n\\n            .__wizzy-quickedit-actions {\\n              grid-column: 3 / 4;\\n              grid-row: 1 / 2;\\n              padding: 0;\\n              margin: 0;\\n              background: #f1f1f1;\\n              color: #333;\\n              font-size: 12px;\\n              height: 100%;\\n              justify-items: center;\\n            }\\n          }\\n        }\\n      </style>\\n      <div class=\\\"__wizzy-quickedit-path\\\">\\n        \", \"\\n      </div>\\n      <div class=\\\"__wizzy-quickedit-content\\\"></div>\\n      <div class=\\\"__wizzy-quickedit-actions\\\">\\n        <button class=\\\"material-icons\\\" id=\\\"__wizzy-quickedit-btn-confirm\\\">\\n          check\\n        </button>\\n        <button class=\\\"material-icons\\\" id=\\\"__wizzy-quickedit-btn-close\\\">\\n          close\\n        </button>\\n      </div>\\n    </div>\\n  \"])), (0,_editor_dompath_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    element: element\n  }).outerHTML);\n  var input = null;\n  switch (type) {\n    case \"attributes\":\n      input = attributeEdit({\n        element: element\n      });\n      input.addEventListener(\"keydown\", function (e) {\n        e.stopPropagation();\n        if (e.key === \"Enter\") {\n          var oldAttributes = element.attributes;\n          console.log(oldAttributes);\n          var attributes = input.value.split(\" \").map(function (attr) {\n            var _attr$split = attr.split(\"=\"),\n              _attr$split2 = _slicedToArray(_attr$split, 2),\n              name = _attr$split2[0],\n              value = _attr$split2[1];\n            return {\n              name: name,\n              value: value\n            };\n          });\n          console.log(attributes);\n          var _iterator = _createForOfIteratorHelper(oldAttributes),\n            _step;\n          try {\n            var _loop = function _loop() {\n              var oldAttribute = _step.value;\n              if (!attributes.find(function (attr) {\n                return attr.name === oldAttribute.name;\n              })) {\n                if (oldAttribute.name === \"__wizzy-selected\") {\n                  return 1; // continue\n                }\n                element.removeAttribute(oldAttribute.name);\n              }\n            };\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              if (_loop()) continue;\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          var _iterator2 = _createForOfIteratorHelper(attributes),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var attribute = _step2.value;\n              if (attribute.name === \"__wizzy-selected\") {\n                continue;\n              }\n              element.setAttribute(attribute.name, attribute.value || \"\");\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      });\n      break;\n    case \"class\":\n      input = classEdit({\n        element: element\n      });\n      input.addEventListener(\"keydown\", function (e) {\n        e.stopPropagation();\n        if (e.key === \"Enter\") {\n          element.className = input.value;\n        }\n      });\n      break;\n    default:\n      throw new Error(\"Unknown quick edit type: \".concat(type));\n  }\n  input.addEventListener(\"blur\", function () {\n    el.remove();\n  });\n  input.addEventListener(\"keydown\", function (e) {\n    if (e.key === \"Escape\") {\n      el.remove();\n    }\n  });\n  el.querySelector(\".__wizzy-quickedit-content\").appendChild(input);\n  return el;\n}\n\n/**\r\n * @param {Object} options\r\n * @param {HTMLElement} options.element\r\n */\nfunction attributeEdit(_ref2) {\n  var element = _ref2.element;\n  console.log(element.attributes);\n\n  // Convert attributes into a serialized string, properly escaped\n  var attributesArray = Array.from(element.attributes).filter(function (attr) {\n    return attr.name !== \"__wizzy-selected\";\n  }).map(function (attr) {\n    return \"\".concat(attr.name, \"=\\\"\").concat(attr.value.replace(/\"/g, '&quot;'), \"\\\"\");\n  }); // Escape quotes in attribute values\n\n  var attributes = attributesArray.join(\" \"); // Join with spaces for proper formatting\n\n  console.log(attributes);\n\n  // Wrap the entire value in quotes to avoid breaking the HTML\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    <input\\n      type=\\\"text\\\"\\n      class=\\\"__wizzy-quickedit-input\\\"\\n      value=\\\"\", \"\\\" \\n      style=\\\"width: 100%; height: 100%; font-size: 12px; font-family: monospace;\\\"\\n    />\\n  \"])), attributes.replace(/\"/g, '&quot;'));\n  console.log(el);\n  return el;\n}\n\n/**\r\n * @param {Object} options\r\n * @param {HTMLElement} options.element\r\n * @returns {HTMLElement}\r\n */\nfunction classEdit(_ref3) {\n  var element = _ref3.element;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    <input\\n      type=\\\"text\\\"\\n      class=\\\"__wizzy-quickedit-input\\\"\\n      value=\\\"\", \"\\\"\\n    />\\n  \"])), element.className);\n  return el;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (quickEdit);\n\n//# sourceURL=webpack://wizzy2/./elements/element-quickedit.js?");

/***/ }),

/***/ "./elements/tab-menu.js":
/*!******************************!*\
  !*** ./elements/tab-menu.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   tabMenu: () => (/* binding */ tabMenu)\n/* harmony export */ });\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/html.js */ \"./lib/html.js\");\nvar _templateObject;\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\nfunction tabMenu(_ref) {\n  var editor = _ref.editor;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    <div class=\\\"__wizzy-tab-menu\\\">\\n      <style>\\n        @scope (.__wizzy-tab-menu) {\\n          :scope {\\n            & {\\n              position: fixed;\\n              display: grid;\\n              grid-template-rows: 50px 1fr 64px;\\n              top: 0;\\n              left: 0;\\n              width: 50vw;\\n              height: 100vh;\\n              z-index: 100000001;\\n\\n              transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\\n              \\n              background: rgba(0, 0, 0, 0.8);\\n              color: white;\\n            }\\n          }\\n        }\\n      </style>\\n      <div class=\\\"__wizzy-tab-menu-header\\\">\\n        <h4>wizzy</h4>\\n        <div class=\\\"__wizzy-tab-menu-header-actions\\\">\\n          <button class=\\\"material-icons\\\" id=\\\"__wizzy-tab-btn-close\\\">close</button>\\n          <button class=\\\"material-icons\\\" id=\\\"__wizzy-tab-btn-settings\\\">settings</button>\\n        </div>\\n      </div>\\n      <div class=\\\"__wizzy-tab-menu-content\\\">\\n\\n      </div>\\n      <div class=\\\"__wizzy-tab-menu-footer\\\">\\n        \\n      </div>\\n    </div>\\n  \"])));\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (tabMenu);\n\n//# sourceURL=webpack://wizzy2/./elements/tab-menu.js?");

/***/ }),

/***/ "./elements/toolbar.js":
/*!*****************************!*\
  !*** ./elements/toolbar.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   tool: () => (/* binding */ tool),\n/* harmony export */   tools: () => (/* binding */ tools)\n/* harmony export */ });\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/html.js */ \"./lib/html.js\");\nvar _templateObject, _templateObject2;\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\nfunction tools(_ref) {\n  var _ref$itemElements = _ref.itemElements,\n    itemElements = _ref$itemElements === void 0 ? [] : _ref$itemElements,\n    editor = _ref.editor;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    <div class=\\\"__wizzy-tools\\\">\\n      <style>\\n        @scope (.__wizzy-tools) {\\n          :scope {\\n            & {\\n              position: relative;\\n              width: 1.5rem;\\n              height: 100%;\\n              background: transparent;\\n              color: white;\\n              z-index: 100000000;\\n              display: flex;\\n\\n              transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\\n            }\\n\\n            .__wizzy-tools-items {\\n              display: grid;\\n              grid-template-rows: repeat(\", \", 1.5rem);\\n              row-gap: 0.25rem;\\n              height: 100%;\\n              width: 100%;\\n              align-content: flex-end;\\n              align-items: center;\\n            }\\n          }\\n        }\\n      </style>\\n\\n      <div class=\\\"__wizzy-tools-items\\\"></div>\\n    </div>\\n  \"])), itemElements.length);\n  var items = el.querySelector(\".__wizzy-tools-items\");\n  var _iterator = _createForOfIteratorHelper(itemElements),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      console.log(item);\n      items.appendChild(item);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return el;\n}\n/**\r\n * Create a tool button which can be used to select a tool and use it,\r\n * which does something depending on the tool and the context it is used in.\r\n * @param {Object} options\r\n * @param {String} options.id\r\n * @param {String} options.icon\r\n * @param {String} options.title\r\n * @param {Function} options.onSelect\r\n * @param {Function} options.onUse\r\n * @param {Object} options.editor \r\n * @returns {HTMLElement}\r\n */\nfunction tool(_ref2) {\n  var _ref2$id = _ref2.id,\n    id = _ref2$id === void 0 ? \"tool\" : _ref2$id,\n    _ref2$icon = _ref2.icon,\n    icon = _ref2$icon === void 0 ? \"bucket\" : _ref2$icon,\n    _ref2$title = _ref2.title,\n    title = _ref2$title === void 0 ? \"Tool\" : _ref2$title,\n    _ref2$onSelect = _ref2.onSelect,\n    onSelect = _ref2$onSelect === void 0 ? function (e) {} : _ref2$onSelect,\n    _ref2$onUse = _ref2.onUse,\n    onUse = _ref2$onUse === void 0 ? function (e) {} : _ref2$onUse,\n    editor = _ref2.editor;\n  var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    <div class=\\\"__wizzy-tool\\\">\\n      <style>\\n        @scope (.__wizzy-tool) {\\n          :scope {\\n            & {\\n              display: grid;\\n              place-items: center;\\n              background: white;\\n              color: black;\\n              border: none;\\n              font-size: 24px;\\n              cursor: pointer;\\n              transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\\n              width: 1.5rem;\\n              height: 1.5rem;\\n              box-shadow: 0 0 12px 4px rgba(0, 0, 0, 0.66);\\n\\n              &[selected] {\\n                /* blue background glow */\\n                box-shadow: 0 0 12px 5px rgba(0, 0, 255, 0.66);\\n              }\\n            }\\n\\n            &:hover {\\n              filter: invert(1);\\n            }\\n          }\\n          .__wizzy-tool-icon {\\n            font-size: 24px;\\n            width: 1.5rem;\\n            height: 1.5rem;\\n            margin: 0;\\n            padding: 0;\\n            border: 0;\\n            background: transparent;\\n            color: inherit;\\n            cursor: pointer;\\n            font-family: \\\"Material Icons\\\";\\n          }\\n        }\\n      </style>\\n      <button class=\\\"material-icons __wizzy-tool-icon\\\" title=\\\"\", \"\\\">\", \"</button>\\n    </div>\\n  \"])), title, icon);\n  var onClick = function onClick(e) {\n    var otherTools = document.querySelectorAll(\".__wizzy-tool\");\n    var _iterator2 = _createForOfIteratorHelper(otherTools),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _tool = _step2.value;\n        _tool.removeAttribute(\"selected\");\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    el.setAttribute(\"selected\", \"\");\n    onSelect(e);\n  };\n  function onUsed(e) {\n    onUse(e);\n  }\n  el.onUse = onUse.bind(editor);\n  el.onSelect = onSelect.bind(editor);\n  el.addEventListener(\"click\", onClick);\n  el.setAttribute(\"id\", \"__wizzy-tool-\".concat(id));\n  return el;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  tools: tools,\n  tool: tool\n});\n\n//# sourceURL=webpack://wizzy2/./elements/toolbar.js?");

/***/ }),

/***/ "./lib/html.js":
/*!*********************!*\
  !*** ./lib/html.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   html: () => (/* binding */ html)\n/* harmony export */ });\n/**\r\n * Turn a string into a HTML element\r\n * @param {string} strings \r\n * @param  {...any} values\r\n * @returns {HTMLElement}\r\n */\nfunction html(strings) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n  var template = document.createElement('template');\n  template.innerHTML = strings.reduce(function (acc, str, i) {\n    return acc + str + (values[i] || '');\n  }, '');\n  return template.content.firstElementChild;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (html);\n\n//# sourceURL=webpack://wizzy2/./lib/html.js?");

/***/ }),

/***/ "./tools.js":
/*!******************!*\
  !*** ./tools.js ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _elements_toolbar_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./elements/toolbar.js */ \"./elements/toolbar.js\");\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/html.js */ \"./lib/html.js\");\n/* harmony import */ var _util_element_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/element-utils.js */ \"./util/element-utils.js\");\nvar _templateObject, _templateObject2;\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n/**\r\n * @file tools.js\r\n * @description Contains all the tools that can be selected and used by the user.\r\n */\n\n\n\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {\n  var editor = _ref.editor;\n  var res = [(0,_elements_toolbar_js__WEBPACK_IMPORTED_MODULE_0__.tool)({\n    toolId: \"div\",\n    icon: (0,_util_element_utils_js__WEBPACK_IMPORTED_MODULE_2__.getMaterialIconFor)(\"div\"),\n    title: \"Div\",\n    onSelect: function onSelect(e) {\n      console.log(editor);\n    },\n    onUse: function onUse(e, target) {\n      var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\" <div>Hello, World!</div> \"])));\n      target.appendChild(el);\n    }\n  }), (0,_elements_toolbar_js__WEBPACK_IMPORTED_MODULE_0__.tool)({\n    toolId: \"p\",\n    icon: (0,_util_element_utils_js__WEBPACK_IMPORTED_MODULE_2__.getMaterialIconFor)(\"p\"),\n    title: \"Paragraph\",\n    onSelect: function onSelect(e) {\n      console.log(\"Paragraph selected\");\n      console.log(editor);\n    },\n    onUse: function onUse(e, target) {\n      var mouse = editor.state.mouse;\n      var x = mouse.x;\n      var y = mouse.y;\n      console.log(x, y);\n      var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\" <p>Hello, World!</p> \"])));\n      target.appendChild(el);\n    }\n  })];\n  res.forEach(function (tool) {\n    tool.onUse = tool.onUse.bind({\n      editor: editor\n    });\n    tool.onSelect = tool.onSelect.bind({\n      editor: editor\n    });\n  });\n  return res;\n}\n\n//# sourceURL=webpack://wizzy2/./tools.js?");

/***/ }),

/***/ "./util/element-utils.js":
/*!*******************************!*\
  !*** ./util/element-utils.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getMaterialIconFor: () => (/* binding */ getMaterialIconFor)\n/* harmony export */ });\nvar _materialIcons;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction getMaterialIconFor() {\n  var tagName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'div';\n  var res = materialIcons[tagName.toLowerCase()] || 'extension';\n  return res;\n}\nvar materialIcons = (_materialIcons = {\n  'p': 'text_fields',\n  'div': 'view_module',\n  'span': 'code',\n  'a': 'link',\n  'img': 'image',\n  'ul': 'list',\n  'li': 'list_item',\n  'button': 'smart_button',\n  'input': 'input',\n  'form': 'assignment',\n  'table': 'table_chart',\n  'tr': 'table_rows',\n  'td': 'table_cells',\n  'th': 'table_header',\n  'header': 'header',\n  'footer': 'footer',\n  'nav': 'navigation',\n  'section': 'section',\n  'article': 'article',\n  'aside': 'aside',\n  'h1': 'title',\n  'h2': 'title',\n  'h3': 'title',\n  'h4': 'title',\n  'h5': 'title',\n  'h6': 'title',\n  'video': 'videocam',\n  'audio': 'audiotrack',\n  'canvas': 'palette',\n  'svg': 'graphic_eq',\n  'iframe': 'web',\n  'blockquote': 'format_quote',\n  'pre': 'code',\n  'code': 'code',\n  'figure': 'image',\n  'figcaption': 'caption',\n  'main': 'main',\n  'mark': 'highlight',\n  'progress': 'hourglass_empty',\n  'meter': 'speed',\n  'details': 'details',\n  'summary': 'summary',\n  'time': 'schedule',\n  'dialog': 'chat',\n  'template': 'template',\n  'script': 'script',\n  'style': 'style',\n  'link': 'link',\n  'meta': 'info',\n  'title': 'title',\n  'body': 'view_quilt',\n  'head': 'description',\n  'html': 'html',\n  'br': 'line_break',\n  'hr': 'horizontal_rule',\n  'label': 'label',\n  'select': 'select',\n  'option': 'option',\n  'textarea': 'text_fields',\n  'fieldset': 'fieldset',\n  'legend': 'legend',\n  'datalist': 'datalist',\n  'optgroup': 'optgroup',\n  'output': 'output',\n  'map': 'map',\n  'area': 'area',\n  'object': 'object',\n  'param': 'param',\n  'embed': 'embed',\n  'source': 'source',\n  'track': 'track',\n  'wbr': 'wbr',\n  'bdi': 'bidi',\n  'bdo': 'bidi',\n  'ruby': 'ruby',\n  'rt': 'ruby_text',\n  'rp': 'ruby_parenthesis',\n  'data': 'data',\n  'kbd': 'keyboard',\n  'samp': 'sample',\n  'var': 'variable',\n  'abbr': 'abbreviation',\n  'cite': 'citation',\n  'q': 'quote',\n  'small': 'small',\n  'sub': 'subscript',\n  'sup': 'superscript',\n  'del': 'strikethrough',\n  'ins': 'insert',\n  'strong': 'bold',\n  'em': 'italic',\n  'b': 'format_bold',\n  'i': 'format_italic',\n  'u': 'format_underlined',\n  's': 'format_strikethrough',\n  'tt': 'text_format',\n  'big': 'text_increase'\n}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_materialIcons, \"small\", 'text_decrease'), 'dfn', 'definition'), 'address', 'location_on'), \"cite\", 'citation'), \"bdo\", 'bidi'), \"bdi\", 'bidi'), \"ruby\", 'ruby'), \"rt\", 'ruby_text'), \"rp\", 'ruby_parenthesis'), \"data\", 'data'), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_materialIcons, \"kbd\", 'keyboard'), \"samp\", 'sample'), \"var\", 'variable'), \"abbr\", 'abbreviation'), \"cite\", 'citation'), \"q\", 'quote'), \"small\", 'small'), \"sub\", 'subscript'), \"sup\", 'superscript'), \"del\", 'strikethrough'), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_materialIcons, \"ins\", 'insert'), 'picture', 'photo'), \"source\", 'source'), \"track\", 'track'), 'noscript', 'no_script'), 'menu', 'menu'), 'menuitem', 'menu_item'), \"dialog\", 'dialog'), \"summary\", 'summary'), \"details\", 'details'), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_materialIcons, 'slot', 'slot'), \"template\", 'template'), 'caption', 'caption'), 'col', 'table_column'), 'colgroup', 'table_columns'), 'dd', 'definition_description'), 'dl', 'definition_list'), 'dt', 'definition_term'), 'frame', 'frame'), 'frameset', 'frameset'), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_materialIcons, 'noframes', 'no_frame'), \"object\", 'object'), \"param\", 'parameter'), \"picture\", 'photo'), \"rp\", 'ruby_parenthesis'), \"rt\", 'ruby_text'), \"ruby\", 'ruby'), \"slot\", 'slot'), \"template\", 'template'), \"track\", 'track'), _defineProperty(_materialIcons, \"wbr\", 'word_break'));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  getMaterialIconFor: getMaterialIconFor\n});\n\n//# sourceURL=webpack://wizzy2/./util/element-utils.js?");

/***/ }),

/***/ "./util/randomUUID.js":
/*!****************************!*\
  !*** ./util/randomUUID.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ randomUUID)\n/* harmony export */ });\nfunction randomUUID() {\n  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n  var chars = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n  var res = \"\";\n  for (var i = 0; i < length; i++) {\n    res += chars[Math.floor(Math.random() * chars.length)];\n  }\n  return res;\n}\n\n//# sourceURL=webpack://wizzy2/./util/randomUUID.js?");

/***/ }),

/***/ "./wizzy.js":
/*!******************!*\
  !*** ./wizzy.js ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/html.js */ \"./lib/html.js\");\n/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tools.js */ \"./tools.js\");\n/* harmony import */ var _editor_commands_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor-commands.js */ \"./editor-commands.js\");\n/* harmony import */ var _elements_context_menu_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./elements/context-menu.js */ \"./elements/context-menu.js\");\n/* harmony import */ var _elements_editor_dompath_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./elements/editor-dompath.js */ \"./elements/editor-dompath.js\");\n/* harmony import */ var _elements_element_quickedit_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./elements/element-quickedit.js */ \"./elements/element-quickedit.js\");\n/* harmony import */ var _elements_editor_container_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./elements/editor-container.js */ \"./elements/editor-container.js\");\n/* harmony import */ var _elements_element_info_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./elements/element-info.js */ \"./elements/element-info.js\");\n/* harmony import */ var _elements_editor_window_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./elements/editor-window.js */ \"./elements/editor-window.js\");\n/* harmony import */ var _elements_tab_menu_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./elements/tab-menu.js */ \"./elements/tab-menu.js\");\n/* harmony import */ var _elements_toolbar_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./elements/toolbar.js */ \"./elements/toolbar.js\");\n/* harmony import */ var _elements_editor_preferences_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./elements/editor-preferences.js */ \"./elements/editor-preferences.js\");\n/* harmony import */ var _elements_commands_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./elements/commands.js */ \"./elements/commands.js\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _taggedTemplateLiteral(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })); }\n\n\n\n\n// Functions that create complex elements\n\n\n\n\n\n\n\n\n\n\n\n/**\r\n * using new() with an IIFE to allow for a private stateful object instance\r\n */\nnew function () {\n  var LOCALSTORAGE_TARGET_PREFERENCES = \"__wizzy-preferences\";\n  var LOCALSTORAGE_TARGET_HTML = \"__wizzy-html\";\n  var LOCALSTORAGE_TARGET_CSS = \"__wizzy-css\";\n  var editor = this;\n\n  /**\r\n   * @typedef {typeof state} EditorState\r\n   */\n  var state = {\n    history: {\n      commands: [],\n      index: 0\n    },\n    mouse: {\n      x: 0,\n      y: 0\n    },\n    preferences: (0,_elements_editor_preferences_js__WEBPACK_IMPORTED_MODULE_11__.editorPreferences)(LOCALSTORAGE_TARGET_PREFERENCES),\n    editorContainer: (0,_elements_editor_container_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(),\n    mouseFollower: (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <span\\n        class=\\\"__wizzy-current-tool-mouse-follower material-icons\\\"\\n        style=\\\"\\n          position: fixed; \\n          top: 0; \\n          left: 0; \\n          z-index: 1000000006; \\n          pointer-events: none; \\n          user-select: none;\\n          font-size: 16px;\\n          color: #333;\\n          font-family: 'Material Icons';\\n          \\\"\\n      >\\n      </span>\\n    \"]))),\n    hotbar: null,\n    canvasOverlay: (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\" <canvas class=\\\"__wizzy-canvas-overlay\\\"></canvas> \"])))\n  };\n  this.state = state;\n  function main() {\n    initStyle();\n    initElements();\n    initListeners();\n    state.editorContainer.watch();\n  }\n  function initStyle() {\n    fetch(\"./wizzy.css\").then(function (res) {\n      return res.text();\n    }).then(function (css) {\n      var style = document.createElement(\"style\");\n      style.innerHTML = css;\n      style.classList.add(\"__wizzy-style\");\n      document.head.appendChild(style);\n    });\n  }\n  function initElements() {\n    document.body.appendChild(state.editorContainer);\n    var toolElements = (0,_tools_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      editor: editor\n    });\n    var toolbarContainer = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n      <div class=\\\"__wizzy-toolbar-container\\\"></div>\\n    \"])));\n    var toolbar = (0,_elements_toolbar_js__WEBPACK_IMPORTED_MODULE_10__.tools)({\n      itemElements: toolElements,\n      editor: editor\n    });\n    toolbarContainer.appendChild(toolbar);\n    state.editorContainer.appendChild(toolbarContainer);\n    var selectedTool = state.editorContainer.querySelector(\".__wizzy-tool[selected]\");\n    if (selectedTool) {\n      showMouseFollower(true);\n    } else {\n      showMouseFollower(false);\n    }\n    state.editorContainer.appendChild(state.mouseFollower);\n    initCanvasOverlay(state.canvasOverlay);\n    state.editorContainer.appendChild(state.preferences);\n    initHotbar();\n  }\n  function initHotbar() {\n    var defaultHotbarSlots = [(0,_elements_commands_js__WEBPACK_IMPORTED_MODULE_12__.hotbarSlot)({\n      key: \"1\",\n      command: (0,_elements_commands_js__WEBPACK_IMPORTED_MODULE_12__.insertHTMLSnippetCommand)({\n        outerHTML: \"<div>Hello, World!</div>\",\n        editor: editor\n      })\n    }), (0,_elements_commands_js__WEBPACK_IMPORTED_MODULE_12__.hotbarSlot)({\n      key: \"2\",\n      command: (0,_elements_commands_js__WEBPACK_IMPORTED_MODULE_12__.insertHTMLSnippetCommand)({\n        outerHTML: \"<p>Hello, World!</p>\",\n        editor: editor\n      })\n    }), (0,_elements_commands_js__WEBPACK_IMPORTED_MODULE_12__.hotbarSlot)({\n      key: \"3\",\n      command: (0,_elements_commands_js__WEBPACK_IMPORTED_MODULE_12__.insertHTMLSnippetCommand)({\n        outerHTML: \"<h1>Hello, World!</h1>\",\n        editor: editor\n      })\n    }), (0,_elements_commands_js__WEBPACK_IMPORTED_MODULE_12__.hotbarSlot)({\n      key: \"4\",\n      command: (0,_elements_commands_js__WEBPACK_IMPORTED_MODULE_12__.insertHTMLSnippetCommand)({\n        outerHTML: \"<h2>Hello, World!</h2>\",\n        editor: editor\n      })\n    })];\n    var hotbarContainer = (0,_elements_commands_js__WEBPACK_IMPORTED_MODULE_12__.hotbar)({\n      slots: defaultHotbarSlots\n    });\n    state.hotbar = hotbarContainer;\n    state.editorContainer.appendChild(hotbarContainer);\n  }\n\n  /**\r\n   * Initialize the canvas overlay which draws the selection rectangle\r\n   * @param {HTMLCanvasElement} overlay\r\n   */\n  function initCanvasOverlay(overlay) {\n    overlay.width = window.innerWidth;\n    overlay.height = window.innerHeight;\n    overlay.style.position = \"fixed\";\n    overlay.style.top = \"0\";\n    overlay.style.left = \"0\";\n    overlay.style.zIndex = \"999999999\";\n    overlay.style.pointerEvents = \"none\";\n    overlay.style.userSelect = \"none\";\n    overlay.style.imageRendering = \"pixelated\";\n    var ctx = overlay.getContext(\"2d\");\n    function animateOverlay() {\n      var selection = getSelection();\n      overlay.width = window.innerWidth;\n      overlay.height = window.innerHeight;\n      overlay.style.width = \"\".concat(window.innerWidth, \"px\");\n      overlay.style.height = \"\".concat(window.innerHeight, \"px\");\n      ctx.clearRect(0, 0, overlay.width, overlay.height);\n\n      // draw a dimmed overlay over the entire page\n      ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\";\n      ctx.fillRect(0, 0, overlay.width, overlay.height);\n\n      // we are going to 'cut out' the selected elements from the overlay,\n      // for visual clarity on what is selected and the selected element's parent rect\n\n      // the parent rectangle should be dimmed by 0.25\n      // the selected element should be completely visible\n      var _iterator = _createForOfIteratorHelper(selection),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var selected = _step.value;\n          // first we have to cut out the area where the parent should be dimmed\n\n          var parent = selected.parentElement || null;\n          if (parent) {\n            var parentRect = parent.getBoundingClientRect();\n            ctx.clearRect(parentRect.left, parentRect.top, parentRect.width, parentRect.height);\n            ctx.fillStyle = \"rgba(0, 0, 0, 0.25)\";\n            ctx.fillRect(parentRect.left, parentRect.top, parentRect.width, parentRect.height);\n          }\n          var rect = selected.getBoundingClientRect();\n          ctx.clearRect(rect.left, rect.top, rect.width, rect.height);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      requestAnimationFrame(animateOverlay);\n    }\n    state.editorContainer.appendChild(overlay);\n    requestAnimationFrame(animateOverlay);\n  }\n  function showMouseFollower() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    if (state) {\n      editor.state.mouseFollower.visibility = \"visible\";\n    } else {\n      editor.state.mouseFollower.visibility = \"hidden\";\n    }\n  }\n  function initListeners() {\n    function onMouseMove(e) {\n      state.mouse.x = e.clientX;\n      state.mouse.y = e.clientY;\n    }\n    function onContextMenu(e) {\n      e.preventDefault();\n      var test = (0,_elements_context_menu_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n        items: [{\n          label: \"New Element\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }, {\n          label: \"Copy\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }, {\n          label: \"Paste\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }, {\n          label: \"Cut\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }, {\n          label: \"Delete\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }, {\n          label: \"Duplicate\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        },\n        // group\n        [{\n          label: \"Copy Style\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }, {\n          label: \"Copy Attributes\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }, {\n          label: \"Copy Text\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }], [{\n          label: \"Clear Style\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }, {\n          label: \"Clear Attributes\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }, {\n          label: \"Clear Text\",\n          value: function value() {\n            console.log(\"Test\");\n          }\n        }], [{\n          label: \"Settings...\",\n          value: [{\n            label: \"Font\",\n            value: function value() {\n              console.log(\"Test\");\n            }\n          }, {\n            label: \"Theme\",\n            value: function value() {\n              console.log(\"Test\");\n            }\n          }, {\n            label: \"Editor\",\n            value: function value() {\n              console.log(\"Test\");\n            }\n          }]\n        }]]\n      });\n      test.style.position = \"fixed\";\n      test.style.left = \"\".concat(e.clientX, \"px\");\n      test.style.top = \"\".concat(e.clientY, \"px\");\n      state.editorContainer.appendChild(test);\n    }\n    function onClick(e) {\n      e.preventDefault();\n\n      // multiple selection\n      if (!e.shiftKey && e.ctrlKey) {\n        if (e.target.closest(\"[__wizzy-editor]\")) {\n          return;\n        }\n        var target = e.target;\n        if (target.hasAttribute(\"__wizzy-selected\")) {\n          unselectElement(target);\n        } else {\n          selectElement(target);\n        }\n      }\n      if (!e.ctrlKey && !e.shiftKey) {\n        if (e.target.closest(\"[__wizzy-editor]\")) {\n          return;\n        }\n        var _target = e.target;\n        var selection = getSelection();\n        if (selection.length) {\n          var _iterator2 = _createForOfIteratorHelper(selection),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var element = _step2.value;\n              unselectElement(element);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n          if (_target === document.documentElement) {\n            selectElement(document.body);\n          } else {\n            selectElement(_target);\n          }\n        } else {\n          if (_target === document.documentElement) {\n            selectElement(document.body);\n          } else {\n            selectElement(_target);\n          }\n        }\n      }\n    }\n    function onDblClick(e) {\n      var target = e.target;\n      var parent = target.parentElement;\n      if (!parent || parent.closest(\"[__wizzy-editor]\")) {\n        return;\n      }\n      var selection = getSelection();\n      var _iterator3 = _createForOfIteratorHelper(selection),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var element = _step3.value;\n          unselectElement(element);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      selectElement(parent);\n    }\n    function onKeyDown(e) {\n      // Don't block the developer tools\n      if (e.key === \"F12\") {\n        return;\n      }\n      if (!(document.activeElement.closest(\"[__wizzy-editor]\") && document.activeElement.tagName === \"INPUT\")) {\n        e.preventDefault();\n      }\n      if (e.ctrlKey) {\n        if (e.key === \"s\") {\n          save();\n        }\n        if (e.key === \"p\") {\n          state.preferences.toggle();\n        }\n      }\n\n      // Duplicate selected elements\n      if (e.key === \"d\") {\n        var selection = getSelection();\n        var _iterator4 = _createForOfIteratorHelper(selection),\n          _step4;\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var element = _step4.value;\n            if (element === document.documentElement || element === document.body) {\n              console.error(\"You can't duplicate the body or the html element\");\n              continue;\n            }\n            var clone = element.cloneNode(true);\n            element.parentElement.appendChild(clone);\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      }\n\n      // Queryselector search bar\n      if (e.key === \"q\") {\n        promptQuerySelector(state.mouse.x, state.mouse.y);\n      }\n\n      // Editing attributes of the current selection\n      if (e.key === \"a\") {\n        var _selection = getSelection();\n        var quickEditorContainer = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n          <div class=\\\"__wizzy-quickedit-container\\\"></div>\\n        \"])));\n        quickEditorContainer.style.setProperty(\"position\", \"fixed\");\n        var _iterator5 = _createForOfIteratorHelper(_selection),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _element = _step5.value;\n            var attrEditor = (0,_elements_element_quickedit_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n              element: _element,\n              type: \"attributes\"\n            });\n            quickEditorContainer.appendChild(attrEditor);\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n        state.editorContainer.appendChild(quickEditorContainer);\n        quickEditorContainer.style.left = \"\".concat(state.mouse.x, \"px\");\n        quickEditorContainer.style.top = \"\".concat(state.mouse.y, \"px\");\n        snapIntoViewport({\n          element: quickEditorContainer\n        });\n        quickEditorContainer.querySelector(\"input\").focus();\n      }\n\n      // Showing the tab menu\n      if (e.key === \"Tab\") {}\n      if (e.key === \"Escape\") {\n        var _iterator6 = _createForOfIteratorHelper(getSelection()),\n          _step6;\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var _element2 = _step6.value;\n            _element2.removeAttribute(\"__wizzy-selected\");\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n      }\n      if (e.key === \"Delete\") {\n        var _iterator7 = _createForOfIteratorHelper(getSelection()),\n          _step7;\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var _element3 = _step7.value;\n            removeElement(_element3);\n          }\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n      }\n    }\n    window.addEventListener(\"click\", onClick);\n    window.addEventListener(\"contextmenu\", onContextMenu);\n    window.addEventListener(\"keydown\", onKeyDown);\n    window.addEventListener(\"mousemove\", onMouseMove);\n    window.addEventListener(\"dblclick\", onDblClick);\n  }\n\n  /**\r\n   * Editor commands which may be executed or undone\r\n   */\n  var editorCommands = {};\n  function executeCommand() {\n    var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"select.element\";\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var arr = path.split(\".\");\n    if (arr.length === 0) {\n      console.error(\"Invalid command path\");\n      return;\n    }\n    var target = editorCommands;\n    var _iterator8 = _createForOfIteratorHelper(arr),\n      _step8;\n    try {\n      for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n        var key = _step8.value;\n        var res = target[key];\n        if (!res) {\n          console.error(\"Invalid command path\");\n          return;\n        }\n        target = res;\n        if (Object.getPrototypeOf(target) === _editor_commands_js__WEBPACK_IMPORTED_MODULE_2__.EditorCommand) {\n          var newCommand = new target({\n            editor: editor,\n            params: params\n          });\n          newCommand[\"do\"]();\n\n          // remove future commands from the history\n          state.history.commands.splice(state.history.index + 1);\n          state.history.index = state.history.commands.push(newCommand) - 1;\n          return newCommand;\n        }\n      }\n    } catch (err) {\n      _iterator8.e(err);\n    } finally {\n      _iterator8.f();\n    }\n  }\n  function undo() {\n    if (state.history.index < 0) {\n      return;\n    }\n    var command = state.history.commands[state.history.index];\n    command.undo();\n    state.history.index--;\n    return command;\n  }\n  function redo() {\n    if (state.history.index >= state.history.commands.length - 1) {\n      return;\n    }\n    var command = state.history.commands[state.history.index + 1];\n    command[\"do\"]();\n    state.history.index++;\n    return command;\n  }\n  function tryPlaceElements(e) {\n    var elements = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    if (e.target.closest(\"[__wizzy-editor]\")) {\n      return;\n    }\n    var selection = getSelection();\n    if (!elements) {\n      console.error(\"No elements to place were provided.\");\n      return;\n    }\n    if (selection.length === 0) {\n      console.warn(\"No elements selected. Nothing to place\");\n      return;\n    }\n    if (elements instanceof Array) {\n      var _iterator9 = _createForOfIteratorHelper(selection),\n        _step9;\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var selectedElement = _step9.value;\n          if (selectedElement.closest(\"[__wizzy-editor]\")) {\n            console.error(\"You can't append elements to the editor. How did you even manage to select it?\");\n            return;\n          }\n          var _iterator10 = _createForOfIteratorHelper(elements),\n            _step10;\n          try {\n            for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n              var element = _step10.value;\n              selectedElement.appendChild(element);\n            }\n          } catch (err) {\n            _iterator10.e(err);\n          } finally {\n            _iterator10.f();\n          }\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n    } else if (elements instanceof Element) {\n      var _iterator11 = _createForOfIteratorHelper(selection),\n        _step11;\n      try {\n        for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n          var _selectedElement = _step11.value;\n          if (_selectedElement.closest(\"[__wizzy-editor]\")) {\n            console.error(\"You can't append elements to the editor. How did you even manage to select it?\");\n            return;\n          }\n          _selectedElement.appendChild(elements);\n        }\n      } catch (err) {\n        _iterator11.e(err);\n      } finally {\n        _iterator11.f();\n      }\n    } else {\n      throw new Error(\"Invalid elements argument\");\n    }\n  }\n\n  /**\r\n   * Returns all selected elements\r\n   * @returns {NodeListOf<Element>}\r\n   */\n  function getSelection() {\n    return document.querySelectorAll(\"[__wizzy-selected]\");\n  }\n  function selectElement(element) {\n    // 1. is this part of the editor?\n    if (element.closest(\"[__wizzy-editor]\")) {\n      return;\n    }\n\n    // 2. some elements can't be selected\n    if (element.closest(\"head\") || element.tagName === \"SCRIPT\" || element.tagName === \"STYLE\" || element.tagName === \"LINK\" || element.tagName === \"META\" || element.tagName === \"TITLE\") {\n      return;\n    }\n\n    // 3. select the element\n    element.setAttribute(\"__wizzy-selected\", \"\");\n\n    // 4. each selected element should have an info element that shows various information an\n    var elInfo = (0,_elements_element_info_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n      targetElement: element\n    });\n    elInfo.style.visibility = \"hidden\";\n    state.editorContainer.appendChild(elInfo);\n    var rect = element.getBoundingClientRect();\n\n    // 5. correct the element's position\n    elInfo.setPosition(rect.left, rect.top);\n    elInfo.correctPosition();\n\n    // 6. show the element's info. done\n    elInfo.style.visibility = \"visible\";\n  }\n  function unselectElement(element) {\n    element.removeAttribute(\"__wizzy-selected\");\n    var elInfo = element.infoElement;\n    if (elInfo) {\n      elInfo.remove();\n    } else {\n      console.error(\"No info element found\");\n    }\n  }\n\n  /**\r\n   * Returns the user tool of the given id\r\n   * @param {string} id - The id of the tool to get\r\n   * @returns {HTMLElement} The tool element\r\n   */\n  function getTool() {\n    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"div\";\n    return state.editorContainer.querySelector(\"#__wizzy-tool-\".concat(id));\n  }\n\n  /**\r\n   * Prompts the user to enter a querySelector string\r\n   * @param {number} x\r\n   * @param {number} y\r\n   */\n  function promptQuerySelector(x, y) {\n    var el = (0,_lib_html_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"<input\\n      type=\\\"text\\\"\\n      class=\\\"__queryselector-input\\\"\\n      style=\\\"position: fixed; top: \", \"px; left: \", \"px; z-index: 1000000002;\\\"\\n    />\"])), y, x);\n    el.addEventListener(\"keydown\", function (e) {\n      // restore default behavior\n      e.stopPropagation();\n      if (e.key === \"Enter\") {\n        var selector = el.value;\n        if (selector.includes(\"__wizzy\")) {\n          console.error(\"You can't select elements that are part of the editor\");\n          el.remove();\n          return;\n        }\n        var elements = [];\n        try {\n          elements = document.querySelectorAll(selector.trim());\n\n          // remove elements that are part of the editor\n          elements = Array.from(elements).filter(function (el) {\n            return !el.closest(\"[__wizzy-editor]\");\n          });\n        } catch (err) {\n          if (err.message.includes(\"is empty\")) {\n            console.error(\"No elements found\");\n          } else {\n            console.error(err);\n          }\n          el.removeEventListener(\"blur\", onBlur);\n          el.remove();\n          return;\n        }\n        var _iterator12 = _createForOfIteratorHelper(getSelection()),\n          _step12;\n        try {\n          for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n            var element = _step12.value;\n            unselectElement(element);\n          }\n        } catch (err) {\n          _iterator12.e(err);\n        } finally {\n          _iterator12.f();\n        }\n        state.selection = Array.from(elements);\n        el.removeEventListener(\"blur\", onBlur);\n        el.remove();\n        var _iterator13 = _createForOfIteratorHelper(state.selection),\n          _step13;\n        try {\n          for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n            var _element4 = _step13.value;\n            selectElement(_element4);\n          }\n        } catch (err) {\n          _iterator13.e(err);\n        } finally {\n          _iterator13.f();\n        }\n      }\n    });\n    removeOnESC({\n      element: el\n    });\n    var onBlur = function onBlur() {\n      el.remove();\n    };\n    el.addEventListener(\"blur\", onBlur);\n    state.editorContainer.appendChild(el);\n\n    // make sure the input is within the viewport\n    if (el.getBoundingClientRect().right > window.innerWidth) {\n      el.style.left = \"\".concat(window.innerWidth - el.offsetWidth, \"px\");\n    }\n    if (el.getBoundingClientRect().bottom > window.innerHeight) {\n      el.style.top = \"\".concat(window.innerHeight - el.offsetHeight, \"px\");\n    }\n    el.focus();\n  }\n  function removeOnESC(_ref) {\n    var element = _ref.element;\n    element.addEventListener(\"keydown\", function (e) {\n      if (e.key === \"Escape\") {\n        element.remove();\n      }\n    });\n  }\n  function snapIntoViewport(_ref2) {\n    var element = _ref2.element;\n    var rect = element.getBoundingClientRect();\n    // check if not outside of viewport\n    if (rect.left > 0 && rect.top > 0 && rect.right < window.innerWidth && rect.bottom < window.innerHeight) {\n      return;\n    }\n\n    // 1. If the element's total width is greater than the viewport's width,\n    //    then set the width of the element to the viewport's width\n    if (rect.width > window.innerWidth) {\n      element.style.width = \"\".concat(window.innerWidth, \"px\");\n    }\n\n    // 2. If the element's total height is greater than the viewport's height,\n    //    then set the height of the element to the viewport's height\n    if (rect.height > window.innerHeight) {\n      element.style.height = \"\".concat(window.innerHeight, \"px\");\n    }\n\n    // 3. Snap the element to the viewport's edges\n    if (rect.left < 0) {\n      element.style.left = \"0px\";\n    }\n    if (rect.top < 0) {\n      element.style.top = \"0px\";\n    }\n    if (rect.right > window.innerWidth) {\n      element.style.left = \"\".concat(window.innerWidth - rect.width, \"px\");\n    }\n    if (rect.bottom > window.innerHeight) {\n      element.style.top = \"\".concat(window.innerHeight - rect.height, \"px\");\n    }\n  }\n  function canDeleteElement(element) {\n    if (element.closest(\"[__wizzy-editor]\")) {\n      return false;\n    }\n    if (element === document.documentElement || element === document.body || element === document.head) {\n      return false;\n    }\n    return true;\n  }\n  function removeElement(element) {\n    if (canDeleteElement(element)) {\n      if (element.infoElement) {\n        element.infoElement.remove();\n      }\n      element.remove();\n    } else {\n      console.error(\"This element cannot be deleted\");\n      unselectElement(element);\n    }\n  }\n  function isBlockElement(element) {\n    var displayStyle = window.getComputedStyle(element).display;\n    return displayStyle === \"block\" || displayStyle === \"flex\" || displayStyle === \"grid\";\n  }\n  function save() {\n    var outerHtml = document.documentElement.outerHTML;\n    var css = document.head.querySelector(\".__wizzy-user-style\").innerHTML;\n    localStorage.setItem(LOCALSTORAGE_TARGET_HTML, outerHtml);\n    localStorage.setItem(LOCALSTORAGE_TARGET_CSS, css);\n  }\n  function load() {\n    if (!localStorage.getItem(LOCALSTORAGE_TARGET_HTML)) {\n      console.error(\"No saved HTML document found\");\n      return;\n    }\n    var headElements = document.head.querySelectorAll(\"\\n        :not(.__wizzy-style),\\n        :not(.__wizzy-user-style)\\n      \");\n    var bodyElements = document.body.querySelectorAll(\"\\n        :not([__wizzy-editor]),\\n      \");\n    var _iterator14 = _createForOfIteratorHelper(headElements),\n      _step14;\n    try {\n      for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n        var element = _step14.value;\n        if (element === document.currentScript) {\n          continue;\n        }\n        element.remove();\n      }\n    } catch (err) {\n      _iterator14.e(err);\n    } finally {\n      _iterator14.f();\n    }\n    var _iterator15 = _createForOfIteratorHelper(bodyElements),\n      _step15;\n    try {\n      for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n        var _element5 = _step15.value;\n        if (_element5 === document.currentScript) {\n          continue;\n        }\n        _element5.remove();\n      }\n    } catch (err) {\n      _iterator15.e(err);\n    } finally {\n      _iterator15.f();\n    }\n    var html = localStorage.getItem(LOCALSTORAGE_TARGET_HTML);\n    document.documentElement.outerHTML = html;\n    if (!localStorage.getItem(LOCALSTORAGE_TARGET_CSS)) {\n      console.error(\"No saved CSS document found\");\n      return;\n    }\n    var css = localStorage.getItem(LOCALSTORAGE_TARGET_CSS);\n    var style = document.createElement(\"style\");\n    style.classList.add(\"__wizzy-user-style\");\n    style.innerHTML = css;\n    document.head.appendChild(style);\n    console.info(\"Loaded saved document\");\n  }\n  function animate() {\n    var followerOffsetX = 12;\n    var followerOffsetY = 12;\n    var selectedTool = state.editorContainer.querySelector(\".__wizzy-tool[selected]\");\n    if (selectedTool) {\n      showMouseFollower(true);\n      var btn = selectedTool.querySelector(\"button\");\n      state.mouseFollower.innerHTML = btn.innerHTML;\n      state.mouseFollower.style.left = \"\".concat(state.mouse.x + followerOffsetX, \"px\");\n      state.mouseFollower.style.top = \"\".concat(state.mouse.y + followerOffsetY, \"px\");\n    } else {\n      showMouseFollower(false);\n    }\n    var selectedInfos = document.querySelectorAll(\".__wizzy-element-info\");\n    var _iterator16 = _createForOfIteratorHelper(selectedInfos),\n      _step16;\n    try {\n      for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n        var info = _step16.value;\n        if (!info.refersTo || !info.refersTo.hasAttribute(\"__wizzy-selected\")) {\n          info.remove();\n          continue;\n        }\n      }\n    } catch (err) {\n      _iterator16.e(err);\n    } finally {\n      _iterator16.f();\n    }\n    requestAnimationFrame(animate);\n  }\n  requestAnimationFrame(animate);\n  document.addEventListener(\"DOMContentLoaded\", main);\n}();\n\n//# sourceURL=webpack://wizzy2/./wizzy.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./wizzy.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});